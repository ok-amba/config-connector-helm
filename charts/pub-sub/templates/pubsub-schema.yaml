############################################################
#                      PubSub Schema                   #
############################################################

{{- range $schema := .Values.topicSchemas }}
apiVersion: pubsub.cnrm.cloud.google.com/v1beta1
kind: PubSubSchema
metadata:
  name: {{ $schema.name }}
spec:
  type: {{ $schema.type }}
  definition: | {{ $schema.definition | nindent 4 }}
  projectRef:
    external: {{ $.Values.projectID }}
---
{{- end }}
